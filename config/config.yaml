# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                     TrendRadar é…ç½®æ–‡ä»¶
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# ===============================================================
# 1. åŸºç¡€è®¾ç½®
# ===============================================================
app:
  # æ—¶åŒºé…ç½®
  timezone: "Asia/Shanghai"
  show_version_update: true           # æ˜¾ç¤ºç‰ˆæœ¬æ›´æ–°æç¤º

# ===============================================================
# 2. æ•°æ®æº - çƒ­æ¦œå¹³å°
# ===============================================================
platforms:
  enabled: true                         # æ˜¯å¦å¯ç”¨çƒ­æ¦œå¹³å°æŠ“å–
  sources:
    # --- è¿™é‡Œä¿ç•™äº†ä½ è‡ªå®šä¹‰çš„è´¢ç»ç±»æ•°æ®æº ---
    - id: "wallstreetcn-hot"
      name: "åå°”è¡—è§é—» æœ€çƒ­"
    - id: "wallstreetcn-quick"
      name: "åå°”è¡—è§é—» å¿«è®¯"
    - id: "wallstreetcn-news"
      name: "åå°”è¡—è§é—» æœ€æ–°"
    - id: "cls-hot"
      name: "è´¢è”ç¤¾çƒ­é—¨"
    - id: "gelonghui"
      name: "æ ¼éš†æ±‡"
    - id: "jin10"
      name: "é‡‘åæ•°æ®"
    - id: "fastbull"
      name: "å¿«è®¯é€š"
    - id: "tencent-hot"
      name: "è…¾è®¯æ–°é—» ç»¼åˆæ—©æŠ¥"
    - id: "cls-telegraph"
      name: "è´¢è”ç¤¾ ç”µæŠ¥"
    - id: "cls-depth"
      name: "è´¢è”ç¤¾ æ·±åº¦"
    - id: "cls-hot"
      name: "è´¢è”ç¤¾ çƒ­é—¨"
    - id: "fastbull-express"
      name: "æ³•å¸ƒè´¢ç» å¿«è®¯"
    - id: "fastbull-news"
      name: "æ³•å¸ƒè´¢ç» å¤´æ¡"

# ===============================================================
# 3. æ•°æ®æº - RSS è®¢é˜…
# ===============================================================
rss:
  enabled: true                       # æ˜¯å¦å¯ç”¨ RSS æŠ“å–

  # æ–‡ç« æ–°é²œåº¦è¿‡æ»¤é…ç½®
  freshness_filter:
    enabled: true                     # æ˜¯å¦å¯ç”¨æ–°é²œåº¦è¿‡æ»¤ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
    max_age_days: 3                   # æœ€å¤§æ–‡ç« å¹´é¾„ï¼ˆå¤©ï¼‰

  feeds:
    - id: "hacker-news"
      name: "Hacker News"
      url: "https://hnrss.org/frontpage"

    - id: "ruanyifeng"
      name: "é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—"
      url: "http://www.ruanyifeng.com/blog/atom.xml"

    - id: "yahoo-finance"
      name: "é›…è™è´¢ç»"
      url: "https://finance.yahoo.com/news/rssindex"
      enabled: false                  # ç¦ç”¨

# ===============================================================
# 4. æŠ¥å‘Šæ¨¡å¼
# ===============================================================
report:
  # --- ä¿ç•™äº†ä½ ä¹ æƒ¯çš„ incremental (å¢é‡) æ¨¡å¼ ---
  mode: "incremental"                 # å¯é€‰: daily | current | incremental
  display_mode: "keyword"             # åˆ†ç»„ç»´åº¦: keyword | platform
  
  rank_threshold: 5                   # æ’åé«˜äº®é˜ˆå€¼
  
  # --- ä¿ç•™äº†ä½ çš„æ’åºåå¥½ ---
  sort_by_position_first: false       # true=æŒ‰é…ç½®ä½ç½®æ’åºï¼Œfalse=æŒ‰çƒ­ç‚¹æ¡æ•°æ’åº
  max_news_per_keyword: 0             # æ¯ä¸ªå…³é”®è¯æœ€å¤§æ˜¾ç¤ºæ•°é‡ï¼ˆ0=ä¸é™åˆ¶ï¼‰
  reverse_content_order: false        # false=çƒ­ç‚¹è¯æ±‡ç»Ÿè®¡åœ¨å‰ï¼Œtrue=æ–°å¢çƒ­ç‚¹æ–°é—»åœ¨å‰

# ===============================================================
# 5. æ¨é€å†…å®¹æ§åˆ¶ (ä½œè€…æ–°å¢åŠŸèƒ½)
# ===============================================================
display:
  # ğŸ“‹ åŒºåŸŸæ˜¾ç¤ºé¡ºåº
  region_order:
    - new_items                       # 1ï¸âƒ£ æ–°å¢çƒ­ç‚¹åŒºåŸŸ
    - hotlist                         # 2ï¸âƒ£ çƒ­æ¦œåŒºåŸŸï¼ˆå…³é”®è¯åŒ¹é…ï¼‰
    - rss                             # 3ï¸âƒ£ RSS è®¢é˜…åŒºåŸŸ
    - standalone                      # 4ï¸âƒ£ ç‹¬ç«‹å±•ç¤ºåŒº
    - ai_analysis                     # 5ï¸âƒ£ AI åˆ†æåŒºåŸŸ

  # æ¨é€åŒºåŸŸå¼€å…³
  regions:
    hotlist: true                     # çƒ­æ¦œåŒºåŸŸ
    new_items: true                   # æ–°å¢çƒ­ç‚¹åŒºåŸŸ
    rss: true                         # RSS è®¢é˜…åŒºåŸŸ
    standalone: false                 # ç‹¬ç«‹å±•ç¤ºåŒº
    ai_analysis: true                 # AI åˆ†æåŒºåŸŸ

  # ğŸ“‹ ç‹¬ç«‹å±•ç¤ºåŒºé…ç½®
  standalone:
    platforms: []                     
    rss_feeds: []                     
    max_items: 20                     

# ===============================================================
# 6. æ¨é€é€šçŸ¥
# ===============================================================
notification:
  enabled: true                       # æ˜¯å¦å¯ç”¨é€šçŸ¥åŠŸèƒ½

  # --- ä¿ç•™äº†ä½ çš„å·¥ä½œæ—¶é—´çª—å£è®¾ç½® ---
  push_window:
    enabled: true                     # å¯ç”¨æ—¶é—´çª—å£æ§åˆ¶
    start: "09:00"                    # å¼€å§‹æ—¶é—´ï¼ˆä½ çš„è®¾ç½®ï¼‰
    end: "18:00"                      # ç»“æŸæ—¶é—´ï¼ˆä½ çš„è®¾ç½®ï¼‰
    once_per_day: true                # true=çª—å£å†…åªæ¨é€ä¸€æ¬¡

  # æ¨é€æ¸ é“é…ç½® (Webhooks)
  # âš ï¸ å»ºè®®ä½¿ç”¨ GitHub Secretsï¼Œä¸è¦ç›´æ¥å¡«åœ¨è¿™é‡Œ
  channels:
    feishu:
      webhook_url: ""
    dingtalk:
      webhook_url: ""
    wework:
      webhook_url: ""
      msg_type: "markdown"
    telegram:
      bot_token: ""
      chat_id: ""
    email:
      from: ""
      password: ""
      to: ""
      smtp_server: ""
      smtp_port: ""
    ntfy:
      server_url: "https://ntfy.sh"
      topic: ""
      token: ""
    bark:
      url: ""
    slack:
      webhook_url: ""
    generic_webhook:
      webhook_url: ""
      payload_template: ""

# ===============================================================
# 7. å­˜å‚¨é…ç½®
# ===============================================================
storage:
  # --- ä¿ç•™äº†ä½ çš„ remote è®¾ç½® ---
  backend: "remote"

  # æ•°æ®æ ¼å¼é€‰é¡¹
  formats:
    sqlite: true
    txt: false
    html: true                        # æ˜¯å¦ç”Ÿæˆ HTML æŠ¥å‘Š

  # æœ¬åœ°å­˜å‚¨é…ç½®
  local:
    data_dir: "output"
    retention_days: 0

  # è¿œç¨‹å­˜å‚¨é…ç½®
  remote:
    retention_days: 0
    endpoint_url: ""                  # ä½¿ç”¨ GitHub Secrets é…ç½®
    # --- ä¿ç•™äº†ä½ çš„ bucket åç§° ---
    bucket_name: "trendradar"         
    access_key_id: ""
    secret_access_key: ""
    region: ""

  # æ•°æ®æ‹‰å–é…ç½® (ä½œè€…æ–°å¢)
  pull:
    enabled: false
    days: 7

# ===============================================================
# 8. AI æ¨¡å‹é…ç½®ï¼ˆå…±äº«ï¼‰
# ===============================================================
ai:
  # --- è¿™é‡Œå®Œå…¨ä¿ç•™äº†ä½ çš„ Qwen é…ç½® ---
  provider: "custom"                # ä½ çš„è®¾ç½®
  api_key: "ä½ çš„sk-å¼€å¤´çš„API_KEY"      # ä½ çš„ Key (è¯·ç¡®è®¤æ­¤å¤„)

  model: "qwen-plus"                # ä½ çš„æ¨¡å‹

  # ä½ çš„é˜¿é‡Œäº‘å®Œæ•´ endpoint
  base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions"
  
  timeout: 90                       # è¯·æ±‚è¶…æ—¶ï¼ˆç§’ï¼‰

  # AI å‚æ•°é…ç½® (ä½œè€…æ–°å¢ï¼Œå»ºè®®ä¿ç•™)
  temperature: 1.0                  # é‡‡æ ·æ¸©åº¦
  max_tokens: 5000                  # æœ€å¤§ç”Ÿæˆ token æ•°

# ===============================================================
# 9. AI åˆ†æåŠŸèƒ½
# ===============================================================
ai_analysis:
  enabled: true                     # æ˜¯å¦å¯ç”¨ AI åˆ†æ
  
  # ä½œè€…æ–°å¢çš„è¯­è¨€è®¾ç½®ï¼Œæˆ‘å¸®ä½ è®¾ä¸ºä¸­æ–‡
  language: "Chinese"

  # æç¤ºè¯é…ç½®æ–‡ä»¶è·¯å¾„
  prompt_file: "ai_analysis_prompt.txt"

  # åˆ†æå†…å®¹é…ç½®
  max_news_for_analysis: 50
  include_rss: false
  
  # ä½œè€…æ–°å¢çš„æ—¶é—´çº¿åŠŸèƒ½
  include_rank_timeline: true       # æ˜¯å¦ä¼ é€’å®Œæ•´æ’åæ—¶é—´çº¿

# ===============================================================
# 10. AI ç¿»è¯‘åŠŸèƒ½ (ä½œè€…æ–°å¢æ¨¡å—)
# ===============================================================
ai_translation:
  enabled: false                    # é»˜è®¤å…³é—­ï¼Œä½ å¯ä»¥æ‰‹åŠ¨æ”¹ä¸º true
  language: "English"
  prompt_file: "ai_translation_prompt.txt"

# ===============================================================
# 11. é«˜çº§è®¾ç½®
# ===============================================================
advanced:
  debug: false
  
  # ç‰ˆæœ¬æ£€æŸ¥åœ°å€
  version_check_url: "https://raw.githubusercontent.com/sansan0/TrendRadar/refs/heads/master/version"
  mcp_version_check_url: "https://raw.githubusercontent.com/sansan0/TrendRadar/refs/heads/master/version_mcp"

  # çƒ­æ¦œçˆ¬è™«å‚æ•°
  crawler:
    request_interval: 2000
    use_proxy: false
    default_proxy: "http://127.0.0.1:10801"

  # RSS è®¾ç½®
  rss:
    request_interval: 1000
    timeout: 15
    use_proxy: false
    proxy_url: ""

  # æ’åºæƒé‡
  # --- ä¿ç•™äº†ä½ çš„æƒé‡è®¾ç½® ---
  weight:
    rank: 0.4                       # ä½ çš„è®¾ç½® (0.4)
    frequency: 0.5                  # ä½ çš„è®¾ç½® (0.5)
    hotness: 0.1

  max_accounts_per_channel: 3
  
  batch_size:
    default: 4000
    dingtalk: 20000
    feishu: 30000
    bark: 4000
    slack: 4000
  batch_send_interval: 3
  feishu_message_separator: "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
